
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.8">
    
    
      
        <title>Visões - Docs-ifpr</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#visoes" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href="../../../.." title="Docs-ifpr" class="md-header__button md-logo" aria-label="Docs-ifpr" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docs-ifpr
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Visões
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Limpar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/psenna/ifpr-disciplinas" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    psenna/ifpr-disciplinas
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Docs-ifpr" class="md-nav__button md-logo" aria-label="Docs-ifpr" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Docs-ifpr
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/psenna/ifpr-disciplinas" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    psenna/ifpr-disciplinas
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Material das aulas do IFPR
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          ADS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ADS" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          ADS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        Análise e desenvolvimento de sistemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          2021
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2021" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          2021
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_1" type="checkbox" id="__nav_2_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_1">
          Redes2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Redes2" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Redes2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/redes2/27-utilizando_chaves_no_ssh/" class="md-nav__link">
        Utilizando chaves no SSH
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2" type="checkbox" id="__nav_2_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2">
          Web1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Web1" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          Web1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/19%20-%20javascript1/" class="md-nav__link">
        19 - Primeiro exemplo de JavaScript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/20-javascript_utilizando_propriedade_id/" class="md-nav__link">
        20 - Encontrando componentes no JS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/21-eventos_javascript_botao/" class="md-nav__link">
        21 - Eventos com JS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/22%20-%20programinhas%20em%20js/" class="md-nav__link">
        Programinhas em JS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/23%20-%20validando%20forms%20com%20js/" class="md-nav__link">
        Validando Forms com JS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2021/web1/24%20-%20vue1/" class="md-nav__link">
        Vue.js: Introdução
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          2022
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2022" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          2022
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1" type="checkbox" id="__nav_2_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1">
          BD2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="BD2" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_1">
          <span class="md-nav__icon md-icon"></span>
          BD2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01%20-%20revis%C3%A3o/" class="md-nav__link">
        Revisão de SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02%20-%20revis%C3%A3o%20select/" class="md-nav__link">
        Revisão de SQL: SELECT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03%20-%20join_e_agregacao/" class="md-nav__link">
        Join e agregação
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Visões
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Visões
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#banco-de-dados" class="md-nav__link">
    Banco de dados
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visoes_1" class="md-nav__link">
    Visões
  </a>
  
    <nav class="md-nav" aria-label="Visões">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visoes-materializadas" class="md-nav__link">
    Visões materializadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#criando-uma-view" class="md-nav__link">
    Criando uma VIEW
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dados-dos-clientes-em-uma-tabela" class="md-nav__link">
    Dados dos clientes em uma "tabela"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atividade" class="md-nav__link">
    Atividade
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05%20-%20lista_prova/" class="md-nav__link">
        Lista de revisão para a prova
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09%20-%20subqueries1/" class="md-nav__link">
        Subquery como filtro de uma nova consulta
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10%20-%20subqueries%202/" class="md-nav__link">
        Subquery como uma nova coluna da consulta
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11%20-%20triggers/" class="md-nav__link">
        Triggers 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12%20-%20triggers%20com%20condicoes/" class="md-nav__link">
        Triggers com condições
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13%20-%20revisao_prova/" class="md-nav__link">
        Revisão para prova
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2" type="checkbox" id="__nav_2_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_2">
          Seguranca
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Seguranca" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Seguranca
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Seguranca/atividade_hash/" class="md-nav__link">
        Atividade Hash
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_3" type="checkbox" id="__nav_2_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_3">
          Topicos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Topicos" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_3">
          <span class="md-nav__icon md-icon"></span>
          Topicos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Topicos/01%20-%20github/" class="md-nav__link">
        Utilizando o github no VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#banco-de-dados" class="md-nav__link">
    Banco de dados
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visoes_1" class="md-nav__link">
    Visões
  </a>
  
    <nav class="md-nav" aria-label="Visões">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visoes-materializadas" class="md-nav__link">
    Visões materializadas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#criando-uma-view" class="md-nav__link">
    Criando uma VIEW
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dados-dos-clientes-em-uma-tabela" class="md-nav__link">
    Dados dos clientes em uma "tabela"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atividade" class="md-nav__link">
    Atividade
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/psenna/ifpr-disciplinas/edit/master/docs/ADS/2022/BD2/04 - Visoes.md" title="Editar esta página" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="visoes">Visões</h1>
<h2 id="banco-de-dados">Banco de dados</h2>
<p>Nessa aula vamos utilizar esse banco de dados: <a href="../sql/empresa_2.sql">empresa_2.sql</a></p>
<p><img alt="aang" src="../imgs/empresa_2.png" /></p>
<h2 id="visoes_1">Visões</h2>
<p><img alt="aang" src="../imgs/visoes.jpg" /></p>
<p>As visões são estruturas que são criadas no banco de dados utilizando uma consulta como base. Elas são como tabelas virtuais.</p>
<p>Podemos utilizar elas para facilitar consultas ou gerar relatórios.</p>
<p>Por exemplo, sempre que quisermos ter os dados do cliente no nosso exemplo junto com o nome da cidade dele, precisamos fazer um JOIN. Mas se tivéssemos uma tabela com as seguintes informações:</p>
<pre><code>+---------------+----------+
| nome          | cidade   |
+---------------+----------+
| Joao          | Umuarama |
| Ze            | Umuarama |
| Maria         | Umuarama |
| Bob esponja   | Umuarama |
| Goku          | Maringa  |
| Bulma         | Maringa  |
| Leia          | Londrina |
| Luke          | Londrina |
| Anakin        | Londrina |
| Tony Gordo    | Cascavel |
| Aldo o apache | Xambre   |
| Hans Landa    | Xambre   |
+---------------+----------+
</code></pre>
<p>Poderiamos </p>
<h3 id="visoes-materializadas">Visões materializadas</h3>
<p>O MySQL não suporta esse tipo de visão, mas outros bancos podem suportar. São semelhantes às visões normais, mas elas são armazenadas no disco quando são criadas. O banco realiza a consulta que cria ela e armazena o resultado como se fosse uma tabela.</p>
<p>Os dados que ficam nesse tipo de view são os do momento que elas são criadas. Caso queiramos atualizar, temos que utilizar comandos para recarregar ela.</p>
<h2 id="criando-uma-view">Criando uma VIEW</h2>
<p>Criar uma view é fácil como voar, só precisamos utilizar essa estrutura:</p>
<pre><code>CREATE VIEW minha_view
    AS
        ALGUM_SELECT
</code></pre>
<p>Onde o ALGUM_SELECT é uma consulta e o minha_view é o nome da view. Podemos utilizar essa view como se fosse uma tabela com esse nome em um from de uma consulta.</p>
<h2 id="dados-dos-clientes-em-uma-tabela">Dados dos clientes em uma "tabela"</h2>
<p>Se em algum lugar do nosso sistema, precisarmos mostrar a idade dos clientes, podemos fazer essa consulta assim:</p>
<pre><code>SELECT *, TIMESTAMPDIFF(YEAR, data_nascimento, CURDATE()) AS 'idade'
    FROM clientes;
</code></pre>
<p>Nesse caso, estamos fazendo um cálculo com apenas 1 atributo, se tivermos mais informações diferentes para pegarmos dos clientes, essa consulta pode ficar grande, não sendo legal colocar ela no nosso código do backend.</p>
<p>Podemos criar uma visão com mais dados do cliente com o código abaixo:</p>
<pre><code>CREATE VIEW clientes_relatorio
    AS
        SELECT cli.nome AS 'nome', 
            cid.nome AS 'cidade', 
            COUNT(ve.valor_total) AS 'venda', 
            COALESCE(SUM(valor_total), 0) AS 'valor_vendas',
            COALESCE(SUM(valor_total - valor_pago),0) AS 'valor_a_pagar',
            TIMESTAMPDIFF(YEAR, data_nascimento, CURDATE()) AS 'idade'
        FROM
            clientes AS cli
            JOIN cidades AS cid ON cli.cidade_id = cid.id
            LEFT JOIN vendas AS ve ON ve.cliente_id = cli.id
        GROUP BY cli.id;
</code></pre>
<p>Assim podemos ter todos vários dados dos nossos clientes de uma forma mais fácil, como se existisse uma tabela com esse dados. Podemos rodar o comando abaixo e ter todos esse dados.</p>
<pre><code>SELECT * FROM clientes_relatorio;

+---------------+----------+-------+--------------+---------------+-------+
| nome          | cidade   | venda | valor_vendas | valor_a_pagar | idade |
+---------------+----------+-------+--------------+---------------+-------+
| Joao          | Umuarama |     2 |          300 |           135 |    30 |
| Ze            | Umuarama |     4 |         1000 |           395 |    22 |
| Maria         | Umuarama |     3 |          500 |           140 |    11 |
| Bob esponja   | Umuarama |     1 |          200 |            50 |    25 |
| Goku          | Maringa  |     4 |          900 |           580 |    16 |
| Bulma         | Maringa  |     1 |          100 |            30 |    22 |
| Leia          | Londrina |     1 |          200 |            80 |    16 |
| Luke          | Londrina |     0 |            0 |             0 |    18 |
| Anakin        | Londrina |     0 |            0 |             0 |  1821 |
| Tony Gordo    | Cascavel |     1 |          100 |            40 |     9 |
| Aldo o apache | Xambre   |     1 |          200 |           130 |    30 |
| Hans Landa    | Xambre   |     1 |          100 |            80 |    30 |
+---------------+----------+-------+--------------+---------------+-------+
</code></pre>
<p>Essa nova visão que criamos se comporta como uma tabela, então, se quisermos encontrar os clientes com idade menor que 18 para enviarmos presentes do dia da criança, podemos fazer por essa visão.</p>
<pre><code>SELECT * 
    FROM clientes_relatorio
    WHERE idade &lt; 18;

+------------+----------+-------+--------------+---------------+-------+
| nome       | cidade   | venda | valor_vendas | valor_a_pagar | idade |
+------------+----------+-------+--------------+---------------+-------+
| Maria      | Umuarama |     3 |          500 |           140 |    11 |
| Goku       | Maringa  |     4 |          900 |           580 |    16 |
| Leia       | Londrina |     1 |          200 |            80 |    16 |
| Tony Gordo | Cascavel |     1 |          100 |            40 |     9 |
+------------+----------+-------+--------------+---------------+-------+
</code></pre>
<h2 id="atividade">Atividade</h2>
<p>Dica: faça o select primeiro, quando tiver o select que funcione, crie a view.</p>
<ul>
<li>crie uma visão contendo o nome do cliente e o nome da cidade.</li>
</ul>
<pre><code>select * from visao;
+---------------+----------+
| nome          | cidade   |
+---------------+----------+
| Joao          | Umuarama |
| Ze            | Umuarama |
| Maria         | Umuarama |
| Bob esponja   | Umuarama |
| Goku          | Maringa  |
| Bulma         | Maringa  |
| Leia          | Londrina |
| Luke          | Londrina |
| Anakin        | Londrina |
| Tony Gordo    | Cascavel |
| Aldo o apache | Xambre   |
| Hans Landa    | Xambre   |
+---------------+----------+
</code></pre>
<ul>
<li>Crie uma visão contendo as vendas com o nome do cliente, o valor total e o valor a receber.</li>
</ul>
<pre><code>select * from visao;
+---------------+-------------+---------------+
| nome          | valor_total | valor_a_pagar |
+---------------+-------------+---------------+
| Joao          |         100 |            80 |
| Ze            |         200 |            80 |
| Ze            |         300 |            55 |
| Goku          |         200 |             0 |
| Bulma         |         100 |            30 |
| Goku          |         300 |           220 |
| Leia          |         200 |            80 |
| Goku          |         200 |           180 |
| Maria         |         300 |            80 |
| Maria         |         100 |            10 |
| Ze            |         200 |            80 |
| Joao          |         200 |            55 |
| Ze            |         300 |           180 |
| Bob esponja   |         200 |            50 |
| Goku          |         200 |           180 |
| Maria         |         100 |            50 |
| Tony Gordo    |         100 |            40 |
| Aldo o apache |         200 |           130 |
| Hans Landa    |         100 |            80 |
+---------------+-------------+---------------+
</code></pre>
<ul>
<li>Crie uma visão contendo o nome das cidades, quantidade de clientes na cidade, total de vendas na cidade e valor que temos a receber em cada cidade. </li>
</ul>
<pre><code>select * from visao;
+----------------+---------------------+-------------------+
| nome           | quantidade_clientes | quantidade_vendas |
+----------------+---------------------+-------------------+
| Umuarama       |                   4 |                10 |
| Maringa        |                   2 |                 5 |
| Londrina       |                   3 |                 1 |
| Cascavel       |                   1 |                 1 |
| Xambre         |                   2 |                 2 |
| Toledo         |                   0 |                 0 |
| Navirai        |                   0 |                 0 |
| Mundo Novo     |                   0 |                 0 |
| Nova Andradina |                   0 |                 0 |
| Cedro          |                   0 |                 0 |
+----------------+---------------------+-------------------+
</code></pre>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Rodapé" >
      
        
        <a href="../03%20-%20join_e_agregacao/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Join e agregação" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              Join e agregação
            </div>
          </div>
        </a>
      
      
        
        <a href="../05%20-%20lista_prova/" class="md-footer__link md-footer__link--next" aria-label="Próximo: Lista de revisão para a prova" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Próximo
              </span>
              Lista de revisão para a prova
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version.title": "Selecione a vers\u00e3o"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.0238f547.min.js"></script>
      
    
  </body>
</html>